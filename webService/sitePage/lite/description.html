<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/images/favicon.png">
    <title>VPN Cash Admin Panel</title>
    <!-- Bootstrap Core CSS -->
    <link href="../assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="css/style.css" rel="stylesheet">
    <!-- You can change the theme colors from here -->
    <link href="css/colors/blue.css" id="theme" rel="stylesheet">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

    <style type="text/css">
        .btn{
            background: #1e88e5;
        }
        .btn-primary.disabled{
            background: #1e88e5b8;
        }
    </style>
</head>

<body class="fix-header fix-sidebar card-no-border">
    <!-- ============================================================== -->
    <!-- Preloader - style you can find in spinners.css -->
    <!-- ============================================================== -->
    <div class="preloader">
        <svg class="circular" viewBox="25 25 50 50">
            <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" /> </svg>
    </div>
    <!-- ============================================================== -->
    <!-- Main wrapper - style you can find in pages.scss -->
    <!-- ============================================================== -->
    <div id="main-wrapper">
        <!-- ============================================================== -->
        <!-- Topbar header - style you can find in pages.scss -->
        <!-- ============================================================== -->
        <header class="topbar">
            <nav class="navbar top-navbar navbar-toggleable-sm navbar-light">
                <!-- ============================================================== -->
                <!-- Logo -->
                <!-- ============================================================== -->
                <div class="navbar-header">
                    <a class="navbar-brand" href="index.html">
                        <!-- Logo icon --><b>
                            <!--You can put here icon as well // <i class="wi wi-sunset"></i> //-->
                            
                            <!-- Light Logo icon -->
                            <img src="../assets/images/VPNCASH-logo-png.png" alt="homepage" class="img img-responsive light-logo" />
                        </b>
                        <!--End Logo icon -->
                        <!-- Logo text --><span>
                         
                         <!-- Light Logo text -->    
                         <!-- <img src="../assets/images/logo-light-text.png" class="light-logo" alt="homepage" /></span> </a> -->
                </div>
                <!-- ============================================================== -->
                <!-- End Logo -->
                <!-- ============================================================== -->
                <div class="navbar-collapse">
                    <!-- ============================================================== -->
                    <!-- toggle and nav items -->
                    <!-- ============================================================== -->
                    <ul class="navbar-nav mr-auto mt-md-0">
                        <!-- This is  -->
                        <li class="nav-item"> <a class="nav-link nav-toggler hidden-md-up text-muted waves-effect waves-dark" href="javascript:void(0)"><i class="mdi mdi-menu"></i></a> </li>
                        <!-- ============================================================== -->
                        <!-- Search -->
                        <!-- ============================================================== -->
                        <li class="nav-item hidden-sm-down search-box"> <a class="nav-link hidden-sm-down text-muted waves-effect waves-dark" href="javascript:void(0)"><i class="ti-search"></i></a>
                            <form class="app-search">
                                <input type="text" class="form-control" placeholder="Search & enter"> <a class="srh-btn"><i class="ti-close"></i></a> </form>
                        </li>
                    </ul>
                    <!-- ============================================================== -->
                    <!-- User profile and search -->
                    <!-- ============================================================== -->
                    <ul class="navbar-nav my-lg-0">
                        <!-- ============================================================== -->
                        <!-- Profile -->
                        <!-- ============================================================== -->
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle text-muted waves-effect waves-dark" href="" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img src="../assets/images/users/1.jpg" alt="user" class="profile-pic m-r-10" />Admin</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>
        <!-- ============================================================== -->
        <!-- End Topbar header -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Left Sidebar - style you can find in sidebar.scss  -->
        <!-- ============================================================== -->
        <aside class="left-sidebar">
            <!-- Sidebar scroll-->
            <div class="scroll-sidebar">
                <!-- Sidebar navigation-->
                <nav class="sidebar-nav">
                    <ul id="sidebarnav">
                        <li> <a class="waves-effect waves-dark" href="index.html" aria-expanded="false"><i class="mdi mdi-gauge"></i><span class="hide-menu">Dashboard</span></a>
                        </li>
                        <li> <a class="waves-effect waves-dark" href="#" aria-expanded="false"><i class="mdi mdi-account-check"></i><span class="hide-menu">Owner Access</span></a>
                        </li>
                       <!--  <li> <a class="waves-effect waves-dark" href="buyToken.html" aria-expanded="false"><i class="mdi mdi-table"></i><span class="hide-menu">Other</span></a>
                        </li> -->
                        <!-- <li> <a class="waves-effect waves-dark" href="icon-material.html" aria-expanded="false"><i class="mdi mdi-emoticon"></i><span class="hide-menu">Icons</span></a>
                        </li>
                        <li> <a class="waves-effect waves-dark" href="map-google.html" aria-expanded="false"><i class="mdi mdi-earth"></i><span class="hide-menu">Google Map</span></a>
                        </li>
                        <li> <a class="waves-effect waves-dark" href="pages-blank.html" aria-expanded="false"><i class="mdi mdi-book-open-variant"></i><span class="hide-menu">Blank Page</span></a>
                        </li>
                        <li> <a class="waves-effect waves-dark" href="pages-error-404.html" aria-expanded="false"><i class="mdi mdi-help-circle"></i><span class="hide-menu">Error 404</span></a>
                        </li> -->
                    </ul>
                </nav>
                <!-- End Sidebar navigation -->
            </div>
            <!-- End Sidebar scroll-->
            <!-- Bottom points-->
            <div class="sidebar-footer">
                <!-- item--><a href="#" class="link" data-toggle="tooltip" title="Settings"><i class="ti-settings"></i></a>
                <!-- item--><a href="#" class="link" data-toggle="tooltip" title="Email"><i class="mdi mdi-gmail"></i></a>
                <!-- item--><a href="/sitePage/lite/login.html" class="link" data-toggle="tooltip" title="Logout"><i class="mdi mdi-power"></i></a> 
            </div>
            <!-- End Bottom points-->
        </aside>
        <!-- ============================================================== -->
        <!-- End Left Sidebar - style you can find in sidebar.scss  -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Page wrapper  -->
        <!-- ============================================================== -->
        <div class="page-wrapper">
            <!-- ============================================================== -->
            <!-- Container fluid  -->
            <!-- ============================================================== -->
            <div class="container-fluid">
                <!-- ============================================================== -->
                <!-- Bread crumb and right sidebar toggle -->
                <!-- ============================================================== -->
                <div class="row page-titles">
                    <div class="col-md-5 col-8 align-self-center">
                        <h3 class="text-themecolor m-b-0 m-t-0">Description</h3>
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="javascript:void(0)">Home</a></li>
                            <li class="breadcrumb-item active">Description</li>
                        </ol>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- End Bread crumb and right sidebar toggle -->
                <!-- ============================================================== -->
                <!-- ============================================================== -->
                <!-- Start Page Content -->
                <!-- ============================================================== -->
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-block">
                                <div class="row">
                                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 text-center">
                                        <h1>Description</h1>
                                        <hr>
                                    </div>

                                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 text-center" style="word-wrap: break-word;">
                                        <h4>Owner Wallet : <a id="ownerWallet" ></a></h4>
                                        <hr>
                                    </div>

                                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 text-center">
                                        <h2>Coin Description: </h2>
                                        <hr>
                                    </div>

                                    <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 ">
                                        <table class="table  table-hover">
                                            <tr>
                                                <th>Name : </th>
                                                <td class="pull-right" id="tokenName">VPN Cash</td>
                                            </tr>
                                            <tr>
                                                <th>Symbol : </th>
                                                <td class="pull-right">VPN</td>
                                            </tr>
                                            <tr>
                                                <th>Decimals : </th>
                                                <td class="pull-right"> 18 </td>
                                            </tr>
                                                
                                         
                                        </table>
                                    </div>

                                    <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12" style="word-wrap: break-word;">
                                       <table class="table table-resposive table-hover" >
                                            <tr >
                                                <th>Contract Address : </th>
                                                <td  class="pull-right" id="contractAddress"></td>
                                            </tr>
                                            <tr>
                                                <th>Token Address : </th>
                                                <td class="pull-right" id="tokenAddress"></td>
                                            </tr>
                                            <tr>
                                                <th>Vault Address : </th>
                                                <td class="pull-right" id="vaultAddress"></td>
                                            </tr>
                                                
                                         
                                        </table>
                                    </div>

                                    <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 ">
                                        <table class="table  table-hover">
                                            <tr>
                                                <th>Total Fund Raised : </th>
                                                <td class="pull-right" id="weiRaised"></td>
                                            </tr>
                                            <tr>
                                                <th>Goal : </th>
                                                <td class="pull-right" id="tokenGoal"></td>
                                            </tr>
                                            <tr>
                                                <th>Max Tokens : </th>
                                                <td class="pull-right" id="totalSupply"> 1,000,000,000,000 &nbsp; VPN </td>
                                            </tr>
                                                
                                         
                                        </table>
                                    </div>

                                </div>
                            </div>
                        </div>


                        <div class="card">
                            <div class="card-block">
                                <div class="row">
                                    <!-- /* Hard Cap */ -->
                                    <!-- <div class="col-lg-4 col-md-4 col-sm-12">
                                        <span>Result : <b id="capresult"></b></span><br />
                                        <button class="btn btn-primary btn-sm" id="capButton"> CAP </button>
                                    </div> -->

                                    <!-- /* Crowdsale End Time */ -->
                                    <!-- <div class="col-lg-4 col-md-4 col-sm-12">
                                        <span>Result : <b id="endTimeResult"></b></span><br />
                                        <button class="btn btn-primary btn-sm" id="endTime"> End Time </button><br />
                                    </div> -->

                                    <!-- /* Crowdsale Start Time */ -->
                                   <!--  <div class="col-lg-4 col-md-4 col-sm-12">
                                        <span>Result : <b id="startTimeResult"></b></span><br />
                                        <button class="btn btn-primary btn-sm" id="startTime"> Start Time </button><br />
                                    </div> -->

                                    <!-- /* Goal or Soft Cap */ -->
                                    <!-- <div class="col-lg-4 col-md-4 col-sm-12">
                                        <span>Result : <b id="goalResult"></b></span><br />
                                        <button class="btn btn-primary btn-sm" id="goal"> Goal </button><br />
                                    </div> -->


                                    <!-- /* Check if the goal cap reached */ -->
                                    <!-- <div class="col-lg-4 col-md-4 col-sm-12">
                                        <span>Result : <b id="goalReachedResult"></b></span><br />
                                        <button class="btn btn-primary btn-sm" id="goalReached"> Goal Reached ? </button><br />
                                    </div> -->

                                    <!-- /* Check if the Crowdsale ended */ -->
                                    <!-- <div class="col-lg-4 col-md-4 col-sm-12">
                                        <span>Result : <b id="hasEndedResult"></b></span><br />
                                        <button class="btn btn-primary btn-sm" id="hasEnded"> Has Ended ? </button><br />
                                    </div> -->

                                    <!-- /* Check if the Crowdsale already finalized by the owner */ -->
                                    <!-- <div class="col-lg-4 col-md-4 col-sm-12">
                                        <span>Result : <b id="isFinalizedResult"></b></span><br />
                                        <button class="btn btn-primary btn-sm" id="isFinalized"> is Finalized ? </button><br />
                                    </div> -->

                                    <!-- /* Max Tokens or Total Supply */ -->
                                    <!-- <div class="col-lg-4 col-md-4 col-sm-12">
                                        <span>Result : <b id="maxTokensResult"></b></span><br />
                                        <button class="btn btn-primary btn-sm" id="maxTokens"> Max Tokens </button><br />
                                    </div> -->

                                    <!-- /* Check Owners Wallet */ -->
                                    <!-- <div class="col-lg-4 col-md-4 col-sm-12">
                                        <span>Result : <b id="ownerResult"></b></span><br />
                                        <button class="btn btn-primary btn-sm" id="owner"> Owner </button><br />
                                    </div> -->

                                    <!-- /* Check Rate */ -->
                                    <!-- <div class="col-lg-4 col-md-4 col-sm-12">
                                        <span>Result : <b id="rateResult"></b></span><br />
                                        <button class="btn btn-primary btn-sm" id="rate"> Rate </button><br />
                                    </div> -->

                                    <!-- /* Check Crowdsale Stage */ -->
                                    <!-- <div class="col-lg-4 col-md-4 col-sm-12">
                                        <span>Result : <b id="stageResult"></b></span><br />
                                        <button class="btn btn-primary btn-sm" id="stage"> Stage </button><br />
                                    </div> -->

                                    <!-- /* Check Tokens Wallet */ -->
                                    <!-- <div class="col-lg-4 col-md-4 col-sm-12">
                                        <span>Result : <b id="tokenResult"></b></span><br />
                                        <button class="btn btn-primary btn-sm" id="token"> Tokens Wallet </button><br />
                                    </div> -->

                                    <!-- /* Check tokens allocation for Airdrop and Bounty */ -->
                                    <!-- <div class="col-lg-4 col-md-4 col-sm-12">
                                        <span>Result : <b id="tokensForBountyAndAirDropResult"></b></span><br />
                                        <button class="btn btn-primary btn-sm" id="tokensForBountyAndAirDrop"> Tokens Allocation for Airdrop </button><br />
                                    </div> -->

                                    <!-- /* Check tokens allocation for Ecosystem */ -->
                                    <!-- <div class="col-lg-4 col-md-4 col-sm-12">
                                        <span>Result : <b id="tokensForEcosystemResult"></b></span><br />
                                        <button class="btn btn-primary btn-sm" id="tokensForEcosystem"> Tokens Allocation for Ecosystem </button><br />
                                    </div> -->

                                    <!-- /* Check tokens allocation for team */ -->
                                    <!-- <div class="col-lg-4 col-md-4 col-sm-12">
                                        <span>Result : <b id="tokensForTeamResult"></b></span><br />
                                        <button class="btn btn-primary btn-sm" id="tokensForTeam"> Tokens Allocation for Team </button><br />
                                    </div> -->

                                    <!-- /* Check tokens allocation that for Sale */ -->
                                    <!-- <div class="col-lg-4 col-md-4 col-sm-12">
                                        <span>Result : <b id="totalTokensForSaleResult"></b></span><br />
                                        <button class="btn btn-primary btn-sm" id="totalTokensForSale"> Tokens Allocation for Sale </button><br />
                                    </div> -->

                                    <!-- /* Check the total tokens for sale during pre ico */ -->
                                    <!-- <div class="col-lg-4 col-md-4 col-sm-12">
                                        <span>Result : <b id="totalTokensForSaleDuringPreICOResult"></b></span><br />
                                        <button class="btn btn-primary btn-sm" id="totalTokensForSaleDuringPreICO"> Total Tokens for Sale During PreICO </button><br />
                                    </div> -->

                                    <!-- /* Check the wallet address */ -->
                                    <!-- <div class="col-lg-4 col-md-4 col-sm-12">
                                        <span>Result : <b id="walletResult"></b></span><br />
                                        <button class="btn btn-primary btn-sm" id="wallet"> Wallet Address </button><br />
                                    </div> -->

                                    <!-- /* Check the total funded raised */ -->
                                    <!-- <div class="col-lg-4 col-md-4 col-sm-12">
                                        <span>Result : <b id="weiRaisedResult"></b></span><br />
                                        <button class="btn btn-primary btn-sm" id="weiRaised"> Total Funded Raised </button><br />
                                    </div> -->

                                    <div class="col-lg-6 col-md-6 col-sm-6">
                                        <!-- /* Transfer the ownership of this contract */ -->
                                        <div class="col-lg-12 col-md-4 col-sm-12">
                                            <div class="form-group">
                                              <input type="text" class="form-control " id="newOwnership" placeholder="New Owner Address" >
                                            </div>
                                            <button class="btn btn-primary btn-sm" id="newOwnershipButton"> Transfer Ownership </button>
                                            <span>Result : <b id="newOwnershipResult"></b></span><hr><br />
                                        </div>

                                        <!-- /* Set Crowdsale Stage */ -->
                                        <div class="col-lg-12 col-md-4 col-sm-12">
                                            <div class="form-group">
                                              <label for="setCrowdsaleStage">Select list:</label>
                                              <select class="form-control" id="setCrowdsaleStage">
                                                <option value="0">Pre ICO</option>
                                                <option value="1">Second Stage</option>
                                                <option value="2">Third Stage</option>
                                                <option value="3">Final Stage</option>
                                              </select>
                                            </div>
                                            <button class="btn btn-primary btn-sm" id="crowdsaleStageButton"> Set CrowdSale Stage </button>
                                            <span>Result : <b id="setCrowdsaleStageResult"></b></span><hr><br />
                                        </div>

                                        <!-- /* Set wallet to distribute funds */ -->
                                        <div class="col-lg-12 col-md-4 col-sm-12">
                                            <label>If Crowdsale Has already ended, This Distributed Funds will be filled by wallets!!!</label>
                                            <div class="form-group">
                                              <input type="text" class="form-control " id="forTeamFunds" placeholder="Wallet Address For Team Funds" >
                                            </div>
                                            <div class="form-group">
                                              <input type="text" class="form-control" id="forEcosystemFunds" placeholder="Wallet Address For Ecosystem Funds">
                                            </div>
                                            <div class="form-group">
                                              <input type="text" class="form-control" id="forBoundAndAirdropFunds" placeholder="Wallet Address For Bounty and Airdrop Funds">
                                            </div>
                                            <button class="btn btn-primary btn-sm" id="distributeFunds"> Distribute Funds </button>
                                            <span>Result : <b id="distributeFundsResult"></b></span><br />
                                        </div>

                                        
                                    </div>

                                    <div class="col-lg-6 col-md-6 col-sm-6">
                                        

                                        <!-- /* Extend the time of the Crowdsale if it is not Ended */ -->
                                        <div class="col-lg-12 col-md-4 col-sm-12">
                                            <div class="form-group">
                                              <input type="date" class="form-control " id="extendEndTime" placeholder="mm/dd/yyyy" >
                                            </div>
                                            <button class="btn btn-primary btn-sm" id="extendEndTimeButton"> Extend the Crowdsale </button>
                                            <span>Result : <b id="extendEndTimeResult"></b></span><hr><br />
                                        </div>

                                        <!-- /* Buy Tokens */ -->
                                        <div class="col-lg-12 col-md-4 col-sm-12">
                                            <div class="form-group">
                                              <label for="buyTokens">Min of 1 ETH : 1 ETH = 100 VPN</label>
                                              <input type="text" class="form-control " id="buyerAddress" placeholder="Enter beneficiary address" required><br /><br />
                                              <input type="text" class="form-control " id="ethAmount" placeholder="Enter the ETH Amount!!!" required>
                                            </div>
                                            <button class="btn btn-success btn-sm" id="buyTokensButton"> Buy  </button>
                                            <span>Result : <b id="buyTokensResult"></b></span><hr><br />
                                        </div>

                                        <!-- /* This finalized function will be trigger by the owner if the goal reached and the crowdsale has ended */ -->
                                        <div class="col-lg-12 col-md-4 col-sm-12">
                                            <button class="btn btn-primary btn-sm" id="finalizedButton"> Finalized the Crowdsale </button>
                                            <span>Result : <b id="finalizedResult"></b></span>
                                        </div>

                                        <!-- /* This function will refunds if the crowdsale is not successful */ -->
                                        <div class="col-lg-12 col-md-4 col-sm-12">
                                            <br />
                                            <button class="btn btn-primary btn-sm" id="claimRefund"> Claim Refund </button>
                                            <span>Result : <b id="claimRefundResult"></b></span><br />
                                        </div>


                                    </div>




                                
                                    
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- End PAge Content -->
                <!-- ============================================================== -->
            </div>
            <!-- ============================================================== -->
            <!-- End Container fluid  -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- footer -->
            <!-- ============================================================== -->
            <footer class="footer">
                © 2018 Copyright by VPN Cash
            </footer>
            <!-- ============================================================== -->
            <!-- End footer -->
            <!-- ============================================================== -->
        </div>
        <!-- ============================================================== -->
        <!-- End Page wrapper  -->
        <!-- ============================================================== -->
    </div>
    <!-- ============================================================== -->
    <!-- End Wrapper -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- All Jquery -->
    <!-- ============================================================== -->
    <script src="../assets/plugins/jquery/jquery.min.js"></script>
    <!-- Bootstrap tether Core JavaScript -->
    <script src="../assets/plugins/bootstrap/js/tether.min.js"></script>
    <script src="../assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <!-- slimscrollbar scrollbar JavaScript -->
    <script src="js/jquery.slimscroll.js"></script>
    <!--Wave Effects -->
    <script src="js/waves.js"></script>
    <!--Menu sidebar -->
    <script src="js/sidebarmenu.js"></script>
    <!--stickey kit -->
    <script src="../assets/plugins/sticky-kit-master/dist/sticky-kit.min.js"></script>
    <!--Custom JavaScript -->
    <script src="js/custom.min.js"></script>
    <script>
    if (typeof web3 !== 'undefined') {
        // Mist, Metamask
        web3 = new Web3(web3.currentProvider);
    } else {
        // set the provider you want from Web3.providers
        console.log("not connected on Metamask");
        alert("need to install metamask https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn?hl=en");
    }

    var myWallet = web3.eth.accounts[0];
    web3.eth.defaultAccount = myWallet;

    var abi = [
            {
                "anonymous": false,
                "inputs": [
                    {
                        "indexed": true,
                        "name": "previousOwner",
                        "type": "address"
                    },
                    {
                        "indexed": true,
                        "name": "newOwner",
                        "type": "address"
                    }
                ],
                "name": "OwnershipTransferred",
                "type": "event"
            },
            {
                "constant": false,
                "inputs": [
                    {
                        "name": "beneficiary",
                        "type": "address"
                    }
                ],
                "name": "buyTokens",
                "outputs": [],
                "payable": true,
                "stateMutability": "payable",
                "type": "function"
            },
            {
                "anonymous": false,
                "inputs": [
                    {
                        "indexed": true,
                        "name": "purchaser",
                        "type": "address"
                    },
                    {
                        "indexed": true,
                        "name": "beneficiary",
                        "type": "address"
                    },
                    {
                        "indexed": false,
                        "name": "value",
                        "type": "uint256"
                    },
                    {
                        "indexed": false,
                        "name": "amount",
                        "type": "uint256"
                    }
                ],
                "name": "TokenPurchase",
                "type": "event"
            },
            {
                "anonymous": false,
                "inputs": [
                    {
                        "indexed": false,
                        "name": "text",
                        "type": "string"
                    }
                ],
                "name": "EthTransferred",
                "type": "event"
            },
            {
                "anonymous": false,
                "inputs": [
                    {
                        "indexed": false,
                        "name": "text",
                        "type": "string"
                    }
                ],
                "name": "EthRefunded",
                "type": "event"
            },
            {
                "anonymous": false,
                "inputs": [
                    {
                        "indexed": true,
                        "name": "from",
                        "type": "address"
                    },
                    {
                        "indexed": true,
                        "name": "to",
                        "type": "address"
                    },
                    {
                        "indexed": false,
                        "name": "value",
                        "type": "uint256"
                    }
                ],
                "name": "Transfer",
                "type": "event"
            },
            {
                "anonymous": false,
                "inputs": [],
                "name": "Finalized",
                "type": "event"
            },
            {
                "constant": false,
                "inputs": [],
                "name": "claimRefund",
                "outputs": [],
                "payable": false,
                "stateMutability": "nonpayable",
                "type": "function"
            },
            {
                "constant": false,
                "inputs": [
                    {
                        "name": "_endTime",
                        "type": "uint256"
                    }
                ],
                "name": "extendEndTime",
                "outputs": [],
                "payable": true,
                "stateMutability": "payable",
                "type": "function"
            },
            {
                "constant": false,
                "inputs": [],
                "name": "finalize",
                "outputs": [],
                "payable": false,
                "stateMutability": "nonpayable",
                "type": "function"
            },
            {
                "constant": false,
                "inputs": [
                    {
                        "name": "_teamFund",
                        "type": "address"
                    },
                    {
                        "name": "_ecosystemFund",
                        "type": "address"
                    },
                    {
                        "name": "_bountyFund",
                        "type": "address"
                    }
                ],
                "name": "finish",
                "outputs": [],
                "payable": false,
                "stateMutability": "nonpayable",
                "type": "function"
            },
            {
                "constant": false,
                "inputs": [
                    {
                        "name": "value",
                        "type": "uint256"
                    }
                ],
                "name": "setCrowdsaleStage",
                "outputs": [],
                "payable": false,
                "stateMutability": "nonpayable",
                "type": "function"
            },
            {
                "constant": false,
                "inputs": [
                    {
                        "name": "_rate",
                        "type": "uint256"
                    }
                ],
                "name": "setCurrentRate",
                "outputs": [],
                "payable": false,
                "stateMutability": "nonpayable",
                "type": "function"
            },
            {
                "constant": false,
                "inputs": [
                    {
                        "name": "_to",
                        "type": "address"
                    },
                    {
                        "name": "_value",
                        "type": "uint256"
                    }
                ],
                "name": "transfer",
                "outputs": [
                    {
                        "name": "",
                        "type": "bool"
                    }
                ],
                "payable": false,
                "stateMutability": "nonpayable",
                "type": "function"
            },
            {
                "constant": false,
                "inputs": [
                    {
                        "name": "newOwner",
                        "type": "address"
                    }
                ],
                "name": "transferOwnership",
                "outputs": [],
                "payable": false,
                "stateMutability": "nonpayable",
                "type": "function"
            },
            {
                "payable": true,
                "stateMutability": "payable",
                "type": "fallback"
            },
            {
                "inputs": [
                    {
                        "name": "_startTime",
                        "type": "uint256"
                    },
                    {
                        "name": "_endTime",
                        "type": "uint256"
                    },
                    {
                        "name": "_rate",
                        "type": "uint256"
                    },
                    {
                        "name": "_wallet",
                        "type": "address"
                    },
                    {
                        "name": "_goal",
                        "type": "uint256"
                    },
                    {
                        "name": "_cap",
                        "type": "uint256"
                    },
                    {
                        "name": "_maxTokens",
                        "type": "uint256"
                    },
                    {
                        "name": "_forDistribution",
                        "type": "uint256[5]"
                    },
                    {
                        "name": "_forBonus",
                        "type": "uint256[4]"
                    }
                ],
                "payable": false,
                "stateMutability": "nonpayable",
                "type": "constructor"
            },
            {
                "constant": true,
                "inputs": [
                    {
                        "name": "_owner",
                        "type": "address"
                    }
                ],
                "name": "balanceOf",
                "outputs": [
                    {
                        "name": "",
                        "type": "uint256"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "cap",
                "outputs": [
                    {
                        "name": "",
                        "type": "uint256"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "endTime",
                "outputs": [
                    {
                        "name": "",
                        "type": "uint256"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "goal",
                "outputs": [
                    {
                        "name": "",
                        "type": "uint256"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "goalReached",
                "outputs": [
                    {
                        "name": "",
                        "type": "bool"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "hasEnded",
                "outputs": [
                    {
                        "name": "",
                        "type": "bool"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "isFinalized",
                "outputs": [
                    {
                        "name": "",
                        "type": "bool"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "maxTokens",
                "outputs": [
                    {
                        "name": "",
                        "type": "uint256"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "owner",
                "outputs": [
                    {
                        "name": "",
                        "type": "address"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "rate",
                "outputs": [
                    {
                        "name": "",
                        "type": "uint256"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "stage",
                "outputs": [
                    {
                        "name": "",
                        "type": "uint8"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "startTime",
                "outputs": [
                    {
                        "name": "",
                        "type": "uint256"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "token",
                "outputs": [
                    {
                        "name": "",
                        "type": "address"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "tokensForBountyAndAirDrop",
                "outputs": [
                    {
                        "name": "",
                        "type": "uint256"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "tokensForEcosystem",
                "outputs": [
                    {
                        "name": "",
                        "type": "uint256"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "tokensForTeam",
                "outputs": [
                    {
                        "name": "",
                        "type": "uint256"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "totalSupply",
                "outputs": [
                    {
                        "name": "",
                        "type": "uint256"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "totalTokensForSale",
                "outputs": [
                    {
                        "name": "",
                        "type": "uint256"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "totalTokensForSaleDuringPreICO",
                "outputs": [
                    {
                        "name": "",
                        "type": "uint256"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "totalWeiRaisedDuringPreICO",
                "outputs": [
                    {
                        "name": "",
                        "type": "uint256"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "vault",
                "outputs": [
                    {
                        "name": "",
                        "type": "address"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "wallet",
                "outputs": [
                    {
                        "name": "",
                        "type": "address"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "weiRaised",
                "outputs": [
                    {
                        "name": "",
                        "type": "uint256"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            }
        ];

    var tokenContract = web3.eth.contract(abi);
    var token = tokenContract.at("0xb490648c08ef0c742d50a1077e26d8fe0051daf5");

    var hasEnded = "false";
    var isFundsAreDistributed = false;
    var isFinalized;
    var goalReached;
    var rate;
    var transactionPrice = {from:web3.eth.accounts[0], gas:900000, gasPrice:web3.toWei("1","gwei")};

    $(window).on('load',function(){
        $("#rate").click();
        $("#hasEnded").click();
        document.getElementById("contractAddress").innerHTML ='<a href="https://ropsten.etherscan.io/address/'+token.address+'">'+token.address+'</a>'
        token.token(function(e,r){
            if(!e){
                document.getElementById("tokenAddress").innerHTML = '<a href="https://ropsten.etherscan.io/address/'+r.toString()+'">'+r.toString()+'</a>'
            }
        });

        token.vault(function(e,r){
            if(!e){
                document.getElementById("vaultAddress").innerHTML = '<a href="https://ropsten.etherscan.io/address/'+r.toString()+'">'+r.toString()+'</a>'
            }
        });

        token.owner(function(e,r){
            if(!e){
                document.getElementById("ownerWallet").innerText = r.toString();
                $("#ownerWallet").attr("href","https://ropsten.etherscan.io/address/" + r.toString())
            }
        });

        token.weiRaised(function(e,r){
            if(!e){
                document.getElementById("weiRaised").innerHTML = r.toNumber() / 10**18 + " ETH "
            }
        });

        token.goal(function(e,r){
            if(!e){
                document.getElementById("tokenGoal").innerHTML = r.toNumber() / 10**18 + " ETH";
            }
        });

        token.maxTokens(function(e,r){
            if(!e){
                document.getElementById("totalSupply").innerHTML = Math.round(r.toNumber() / 10**18)  + " VPN";
            }
        });

        
    });




    // $("#capButton").on('click', function(){
    //     token.cap(function(error, result){
    //         if(error){console.log(error)}else{document.getElementById("capresult").innerHTML = result.toString()}
    //     });
    // });

    // $("#endTime").on('click', function(){
    //     token.endTime(function(error, result){
    //         if(error){console.log(error)}else{document.getElementById("endTimeResult").innerHTML = result.toString()}
    //     });
    // });

    // $("#startTime").on('click', function(){
    //     token.startTime(function(error, result){
    //         if(error){console.log(error)}else{document.getElementById("startTimeResult").innerHTML = result.toString()}
    //     });
    // });


    // $("#goal").on('click', function(){
    //     token.goal(function(error, result){
    //         if(error){console.log(error)}else{document.getElementById("goalResult").innerHTML = result.toString()}
    //     });
    // });


    // $("#goalReached").on('click', function(){
    //     token.goalReached(function(error, result){
    //         if(error){
    //             console.log(error)
    //         }else{
    //             document.getElementById("goalReachedResult").innerHTML = result.toString();
    //             goalReached = result.toString();
    //         }
    //     });
    // });


    // $("#hasEnded").on('click', function(){
    //     token.hasEnded(function(error, result){
    //         if(error){console.log(error)}else{
    //             document.getElementById("hasEndedResult").innerHTML = result.toString();
    //             hasEnded = result.toString();
    //         }
    //     });
    // });


    // $("#isFinalized").on('click', function(){
    //     token.isFinalized(function(error, result){
    //         if(error){
    //             console.log(error)
    //         }else{
    //             document.getElementById("isFinalizedResult").innerHTML = result.toString();
    //             isFinalized = result.toString();
    //         }
    //     });
    // });

    // $("#maxTokens").on('click', function(){
    //     token.maxTokens(function(error, result){
    //         if(error){console.log(error)}else{document.getElementById("maxTokensResult").innerHTML = result.toNumber()}
    //     });
    // });

    // $("#owner").on('click', function(){
    //     token.owner(function(err,res){if(!err){document.getElementById("ownerResult").innerText = res.toString()}})
    // });

    // $("#rate").on('click', function(){
    //     token.rate(function(error, result){
    //         if(error){
    //             console.log(error)
    //         }else{
    //             document.getElementById("rateResult").innerHTML = result.toNumber();
    //             rate = result.toNumber();
    //         }
    //     });
    // });
    
    $("#stage").on('click', function(){
        token.stage(function(error, result){
            if(error){
                console.log(error)
            }else{
                
                if(result.toNumber() == 0){
                    document.getElementById("stageResult").innerHTML = "Pre ICO";
                }else if(result.toNumber() == 1){
                    document.getElementById("stageResult").innerHTML = "Second Stage";
                }else if(result.toNumber() == 2){
                    document.getElementById("stageResult").innerHTML = "Third Stage";
                }else if(result.toNumber() == 3){
                    document.getElementById("stageResult").innerHTML = "Final Stage";
                }
            }
        });
    });

    // $("#token").on('click', function(){
    //     token.token(function(error, result){
    //         if(error){console.log(error)}else{document.getElementById("tokenResult").innerHTML = result.toString()}
    //     });
    // });

    // $("#tokensForBountyAndAirDrop").on('click', function(){
    //     token.tokensForBountyAndAirDrop(function(error, result){
    //         if(error){console.log(error)}else{document.getElementById("tokensForBountyAndAirDropResult").innerHTML = result.toString()}
    //     });
    // });

    // $("#tokensForEcosystem").on('click', function(){
    //     token.tokensForEcosystem(function(error, result){
    //         if(error){console.log(error)}else{document.getElementById("tokensForEcosystemResult").innerHTML = result.toString()}
    //     });
    // });

    // $("#tokensForTeam").on('click', function(){
    //     token.tokensForTeam(function(error, result){
    //         if(error){console.log(error)}else{document.getElementById("tokensForTeamResult").innerHTML = result.toString()}
    //     });
    // });

    // $("#totalTokensForSale").on('click', function(){
    //     token.totalTokensForSale(function(error, result){
    //         if(error){console.log(error)}else{document.getElementById("totalTokensForSaleResult").innerHTML = result.toString()}
    //     });
    // });



    // $("#totalTokensForSaleDuringPreICO").on('click', function(){
    //     token.totalTokensForSaleDuringPreICO(function(error, result){
    //         if(error){console.log(error)}else{document.getElementById("totalTokensForSaleDuringPreICOResult").innerHTML = result.toString()}
    //     });
    // });

    // $("#wallet").on('click', function(){
    //     token.wallet(function(error, result){
    //         if(error){console.log(error)}else{document.getElementById("walletResult").innerHTML = result.toString()}
    //     });
    // });

    // $("#weiRaised").on('click', function(){
    //     token.weiRaised(function(error, result){
    //         if(error){console.log(error)}else{document.getElementById("weiRaisedResult").innerHTML = result.toString()}
    //     });
    // });

    $("#crowdsaleStageButton").on('click', function(){
        var selectedStage = $("#setCrowdsaleStage").val();
        //console.log(selectedStage)
        token.setCrowdsaleStage(selectedStage, transactionPrice, function(err, res){if(!err){document.getElementById("setCrowdsaleStageResult").innerHTML = "<a href=https://ropsten.etherscan.io/tx/" + res + "> Success, Check the Transaction Result </a>"}});
    });

    if(hasEnded == "true"){
        $("#distributeFunds").on('click', function(){
            var forTeamFunds = $("#forTeamFunds").val();
            var forEcosystemFunds = $("#forEcosystemFunds").val();
            var forBoundAndAirdropFunds = $("#forBoundAndAirdropFunds").val();
            //console.log(forTeamFunds);
            //console.log(forEcosystemFunds);
            //console.log(forBoundAndAirdropFunds);
            token.finish(forTeamFunds,forEcosystemFunds,forBoundAndAirdropFunds, transactionPrice, function(err,res){if(!err){document.getElementById("distributeFundsResult").innerHTML = "<a href=https://ropsten.etherscan.io/tx/" + res + "> Success, Check the Transaction Result for distributed funds!!!</a>"}})
            isFundsAreDistributed = true;
        });
    }else{
        $("#distributeFunds").addClass("disabled");
        $("#forTeamFunds").attr("disabled","");
        $("#forEcosystemFunds").attr("disabled","");
        $("#forBoundAndAirdropFunds").attr("disabled","");

    };
    
    //transfer the ownership
    $("#newOwnershipButton").on('click', function(){
        var newOwnership = $("#newOwnership").val();
        // console.log(newOwnership)
        token.transferOwnership(newOwnership, transactionPrice, function(err, res){
            if(!err){
                document.getElementById("newOwnershipResult").innerHTML = "<a href=https://ropsten.etherscan.io/tx/" + res + "> Success, Check the Transaction Result </a>"
            }else{
                console.log(err)
            }
        });
    });

    if(hasEnded == "true" && isFundsAreDistributed == true){
        $("#finalizedButton").on('click',function(){
            token.finalize(transactionPrice, function(err, res){if(!err){document.getElementById("finalizedResult").innerHTML = "<a href=https://ropsten.etherscan.io/tx/" + res + "> Success, Check the Transaction Result </a>"}});
        });
    }else{
        $("#finalizedButton").addClass("disabled");
    }
    
    $("#extendEndTimeButton").on('click', function(){
        var extendEndTime = $("#extendEndTime").val();
        var endDate = new Date(extendEndTime);
        var newEndTime = endDate.getTime() / 1000;
        token.extendEndTime(newEndTime, transactionPrice, function(err, res){
            if(!err){
                document.getElementById("extendEndTimeResult").innerHTML = "<a href=https://ropsten.etherscan.io/tx/" + res + "> Success, Check the Transaction Result </a>"
            }
        })
    });


    $("#buyTokensButton").on('click', function(){
        var buyerAddress = $("#buyerAddress").val();
        var ethAmount = $("#ethAmount").val();
        //console.log(selectedStage)
        token.buyTokens(buyerAddress, {value:web3.toWei(ethAmount.toString(),"ether"), gas:900000, gasPrice:web3.toWei("1","gwei")}, function(err, res){if(!err){document.getElementById("buyTokensResult").innerHTML = "<a href=https://ropsten.etherscan.io/tx/" + res + "> Success, Check the Transaction Result </a>"}});
    });


    if(isFinalized == "true" && goalReached == "false"){
        $("#claimRefund").on('click', function(){
            token.claimRefund(transactionPrice, function(error, result){
                if(error){
                    console.log(error)
                }else{
                    document.getElementById("weiRaisedResult").innerHTML = result.toString()
                }
            });
        })
    }else{
            $("#claimRefund").addClass("disabled");
        }









</script>
</body>

</html>
